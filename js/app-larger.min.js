jQuery(function($){var Viewport=function(){var settings={width:0,height:0,documentHeight:0,nowLoop:Date.now(),fps:1e3/60,scrollTop:-1,_scrollTop:-1,scrollDetectionMode:"scrollEvent",nowScroll:Date.now(),scrollFactor:-1,isScrolledToTop:!1,isScrolledToBottom:!1,scrollTopOffset:20,scrollBottomOffset:20,isScrolledToFirstScreen:!1,isScrolledToLastScreen:!1,scrollToOffset:0,scrollToSpeed:2},init=function(){Debug.log("Viewport.init()"),settings.element=$(window),onResizeFinish(),bindEventHandlers(),onScroll(),onLoop()},bindEventHandlers=function(){settings.element.on("resize",function(){settings.resizeDelay?(clearTimeout(settings.resizeDelay),settings.resizeDelay=null):($("html").addClass("resizing"),$(document).trigger("viewport/resize/start")),settings.resizeDelay=setTimeout(function(){$("html").removeClass("resizing"),$(document).trigger("viewport/resize/finish"),settings.resizeDelay=null},500)}),"scrollEvent"==settings.scrollDetectionMode&&settings.element.on("scroll",function(){var now=Date.now(),elapsed=now-settings.nowScroll;elapsed>settings.fps&&(settings.nowScroll=now-elapsed%settings.fps,settings.scrollTop=settings.element.scrollTop(),$(document).trigger("viewport/scroll"))}),$(document).on("viewport/scroll",function(){onScroll()}).on("viewport/resize/finish",function(){onResizeFinish()}).on("viewport/scroll/toTop",function(){Debug.log("scrolled to top"),$("html").addClass("scrolled-to-top")}).on("viewport/scroll/fromTop",function(){Debug.log("scrolled from top"),$("html").removeClass("scrolled-to-top")}).on("viewport/scroll/toBottom",function(){Debug.log("scrolled to bottom"),$("html").addClass("scrolled-to-bottom")}).on("viewport/scroll/fromBottom",function(){Debug.log("scrolled from bottom"),$("html").removeClass("scrolled-to-bottom")}).on("viewport/scroll/toFirstScreen",function(){Debug.log("scrolled to first screen"),$("html").addClass("scrolled-to-first-screen")}).on("viewport/scroll/fromFirstScreen",function(){Debug.log("scrolled from first screen"),$("html").removeClass("scrolled-to-first-screen")}).on("viewport/scroll/toLastScreen",function(){Debug.log("scrolled to last screen"),$("html").addClass("scrolled-to-last-screen")}).on("viewport/scroll/fromLastScreen",function(){Debug.log("scrolled from last screen"),$("html").removeClass("scrolled-to-last-screen")})},onLoop=function(){requestAnimationFrame(onLoop);var now=Date.now(),elapsed=now-settings.nowLoop;elapsed>settings.fps&&(settings.nowLoop=now-elapsed%settings.fps,$(document).trigger("viewport/loop",[{now:now}]),"requestAnimationFrame"==settings.scrollDetectionMode&&(settings._scrollTop=settings.scrollTop,settings.scrollTop=settings.element.scrollTop(),settings.scrollTop!=settings._scrollTop&&$(document).trigger("viewport/scroll")))},onResizeFinish=function(){Debug.log("Viewport.onResizeFinish()"),settings.width=settings.element.width(),settings.height=settings.element.height(),settings.scrollTop=settings.element.scrollTop(),settings.documentHeight=$("html").outerHeight()},onScroll=function(){Debug.log("Viewport.onScroll()"),settings.scrollFactor=settings.scrollTop/(settings.height-settings.documentHeight)*-1,settings.scrollTop>settings.scrollTopOffset&&settings.isScrolledToTop&&(settings.isScrolledToTop=!1,$(document).trigger("viewport/scroll/fromTop")),settings.scrollTop<settings.scrollTopOffset&&(settings.isScrolledToTop||(settings.isScrolledToTop=!0,$(document).trigger("viewport/scroll/toTop"))),settings.scrollTop>settings.documentHeight-settings.height-settings.scrollBottomOffset&&(settings.isScrolledToBottom||(settings.isScrolledToBottom=!0,$(document).trigger("viewport/scroll/toBottom"))),settings.scrollTop<settings.documentHeight-settings.height-settings.scrollBottomOffset&&settings.isScrolledToBottom&&(settings.isScrolledToBottom=!1,$(document).trigger("viewport/scroll/fromBottom")),settings.scrollTop<settings.height&&(settings.isScrolledToFirstScreen||(settings.isScrolledToFirstScreen=!0,$(document).trigger("viewport/scroll/toFirstScreen"))),settings.scrollTop>settings.height&&settings.isScrolledToFirstScreen&&(settings.isScrolledToFirstScreen=!1,$(document).trigger("viewport/scroll/fromFirstScreen")),settings.scrollTop>settings.documentHeight-2*settings.height&&(settings.isScrolledToLastScreen||(settings.isScrolledToLastScreen=!0,$(document).trigger("viewport/scroll/toLastScreen"))),settings.scrollTop<settings.documentHeight-2*settings.height&&settings.isScrolledToLastScreen&&(settings.isScrolledToLastScreen=!1,$(document).trigger("viewport/scroll/fromLastScreen"))},scrollTo=function(target,offset,animate){Debug.log("Viewport.scrollTo()"),Debug.log(target);var top=0;"number"==typeof target&&(top=target),"string"==typeof target&&$("#"+target).length>0&&(top=parseInt($("#"+target).offset().top)),"object"==typeof target&&target.length>0&&(top=parseInt(target.offset().top)),top+=offset?offset:settings.scrollToOffset;var distance=Math.floor(Math.abs(top-$(window).scrollTop())),duration=Math.floor(distance/settings.scrollToSpeed);animate?$("html, body").animate({scrollTop:top},duration):settings.element.scrollTop(top)},getWidth=function(){return settings.width},getHeight=function(){return settings.height},getScrollTop=function(){return settings.scrollTop},getScrollFactor=function(){return settings.scrollFactor};return{init:function(){init()},scrollTo:function(target,offset,animate){scrollTo(target,offset,animate)},getWidth:function(){return getWidth()},getHeight:function(){return getHeight()},getScrollTop:function(){return getScrollTop()},getScrollFactor:function(){return getScrollFactor()}}}();$(document).ready(function(){Viewport.init()})});
//# sourceMappingURL=sourcemaps/app-larger.min.js.map